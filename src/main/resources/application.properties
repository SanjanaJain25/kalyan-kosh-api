spring.application.name=kalyan-kosh-api

spring.datasource.url=jdbc:mysql://localhost:3306/kalyankosh_db?allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=root

spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2

spring.jpa.hibernate.ddl-auto=update
# Set to 'update' to let Hibernate create new State and Sambhag tables
# After everything is working, can change to 'validate' for production
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

app.jwt.secret=${JWT_SECRET:change_this_to_a_very_long_secret_key_please_change}
app.jwt.expiration-ms=${JWT_EXP_MS:86400000}

# JWT expiration: 86400000 ms = 24 hours (comment moved to new line)

server.port=8080
logging.level.org.springframework.security=DEBUG
logging.level.com.example.kalyan_kosh_api.config=DEBUG

# Email Configuration (for OTP sending)
# ============================================
# IMPORTANT: Email authentication is currently FAILING because:
# - Using support@pmums.com with Gmail SMTP (smtp.gmail.com)
# - Gmail SMTP only accepts @gmail.com or Google Workspace accounts
#
# SOLUTIONS:
# 1. Use a Gmail account (e.g., kalyankosh.api@gmail.com)
# 2. Get SMTP settings for pmums.com domain
# 3. Disable email and use console output (for testing)
#
# For now, set app.email.enabled=false to print OTP to console
# ============================================

# Enable/disable actual email sending (false = console output only)
app.email.enabled=true

# Gmail SMTP Configuration (for production - requires valid Gmail account)
spring.mail.host=smtp.gmail.com
spring.mail.port=587

# ?? ISSUE: support@pmums.com is NOT a Gmail account!
# Gmail SMTP will reject this. Options:
# A) Change to: yourproject@gmail.com (create new Gmail account)
# B) Use pmums.com SMTP server instead (get settings from email provider)
# C) Set app.email.enabled=false and use console output
spring.mail.username=info@pmums.com
# App Password (16 chars) - Generate at: https://myaccount.google.com/apppasswords
# NOTE: This password won't work if username is not a valid Gmail account!
spring.mail.password=alaxqqrrquedichj


spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# For production, use environment variables:
# app.email.enabled=true
# spring.mail.username=${EMAIL_USERNAME}
# spring.mail.password=${EMAIL_PASSWORD}
#authkey.api-key=13ddd865712c6b2b
authkey.api-key=DUMMY_KEY
authkey.sender=DEVAPP

#spring.profiles.active=dev
